identity:
  name: execute_sql
  author: oceanbase
  label:
    en_US: Execute SQL
    zh_Hans: 执行 SQL
description:
  human:
    en_US: Execute SQL queries on an existing OceanBase database.
    zh_Hans: 在已有的 OceanBase 数据库中执行 SQL 查询。
  llm: This tool is used to execute SQL queries on an existing OceanBase database.
parameters:
  - name: sql
    type: string
    required: true
    label:
      en_US: SQL statement
      zh_Hans: SQL 语句
    human_description:
      en_US: The query SQL, must start with 'SELECT', 'SHOW', or 'WITH'.
      zh_Hans: SQL 语句，需要以 'SELECT'、'SHOW' 或 'WITH' 开头。
    llm_description: The SQL statement.
    form: llm
  - name: format
    type: select
    required: false
    label:
      en_US: Output format
      zh_Hans: 输出格式
    human_description:
      en_US: Choose the output format.
      zh_Hans: 选择输出格式。
    form: form
    default: json
    options:
      - value: json
        label:
          en_US: JSON
          zh_Hans: JSON
      - value: csv
        label:
          en_US: CSV
          zh_Hans: CSV
      - value: yaml
        label:
          en_US: YAML
          zh_Hans: YAML
      - value: md
        label:
          en_US: Markdown
          zh_Hans: Markdown
      - value: xlsx
        label:
          en_US: Excel
          zh_Hans: Excel
      - value: html
        label:
          en_US: HTML
          zh_Hans: HTML
  - name: config_options
    type: string
    required: false
    form: form
    label:
      en_US: DB Config Options
      zh_Hans: 数据库连接配置选项
    human_description:
      en_US: |
        Optional. For example {"connect_args": {"ssl": {"ca": "/path/to/ca.pem"}}}
        More connection options can be found at https://docs.sqlalchemy.org/en/20/core/engines.html#sqlalchemy.create_engine
      zh_Hans: |
        选填项。例如 {"connect_args": {"ssl": {"ca": "/path/to/ca.pem"}}}
        更多连接选项可参考 https://docs.sqlalchemy.org/en/20/core/engines.html#sqlalchemy.create_engine
extra:
  python:
    source: tools/execute_sql.py
